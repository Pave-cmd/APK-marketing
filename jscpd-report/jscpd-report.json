{
  "statistics": {
    "detectionDate": "2025-05-21T06:15:09.592Z",
    "formats": {
      "typescript": {
        "sources": {
          "src/utils/duplicateDetection/unusedCodeDetector.ts": {
            "lines": 625,
            "tokens": 4683,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/duplicateDetection/index.ts": {
            "lines": 95,
            "tokens": 724,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/duplicateDetection/fileSizeChecker.ts": {
            "lines": 230,
            "tokens": 1746,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/duplicateDetection/fileDetector.ts": {
            "lines": 161,
            "tokens": 1268,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/duplicateDetection/codeDetector.ts": {
            "lines": 134,
            "tokens": 982,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/urlUtils.ts": {
            "lines": 163,
            "tokens": 1228,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/logger.ts": {
            "lines": 76,
            "tokens": 608,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/formatters.ts": {
            "lines": 19,
            "tokens": 168,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/cookieUtils.ts": {
            "lines": 28,
            "tokens": 197,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/websiteScraperService.ts": {
            "lines": 240,
            "tokens": 1860,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/webAnalysisService.ts": {
            "lines": 227,
            "tokens": 1880,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/tokenManagerService.ts": {
            "lines": 256,
            "tokens": 1900,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/socialPublisherService.ts": {
            "lines": 185,
            "tokens": 1418,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/socialApiService.ts": {
            "lines": 226,
            "tokens": 1506,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/scheduledPostService.ts": {
            "lines": 632,
            "tokens": 5039,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 83,
            "percentage": 1.42,
            "percentageTokens": 1.65,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/cronService.ts": {
            "lines": 120,
            "tokens": 935,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/contentService.ts": {
            "lines": 311,
            "tokens": 2539,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 83,
            "percentage": 2.89,
            "percentageTokens": 3.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/contentGeneratorService.ts": {
            "lines": 868,
            "tokens": 6211,
            "sources": 1,
            "clones": 16,
            "duplicatedLines": 250,
            "duplicatedTokens": 2134,
            "percentage": 28.8,
            "percentageTokens": 34.36,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/routes/websiteRoutes.ts": {
            "lines": 87,
            "tokens": 777,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/routes/webAnalysisRoutes.ts": {
            "lines": 21,
            "tokens": 188,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/routes/socialNetworkRoutes.ts": {
            "lines": 26,
            "tokens": 198,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/routes/scheduledPostRoutes.ts": {
            "lines": 26,
            "tokens": 239,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/routes/authRoutes.ts": {
            "lines": 32,
            "tokens": 311,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/routes/apiConfigRoutes.ts": {
            "lines": 21,
            "tokens": 195,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/models/WebAnalysis.ts": {
            "lines": 113,
            "tokens": 895,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/models/User.ts": {
            "lines": 209,
            "tokens": 1510,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/models/ScheduledPost.ts": {
            "lines": 148,
            "tokens": 1031,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/models/Content.ts": {
            "lines": 131,
            "tokens": 983,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/models/ApiConfig.ts": {
            "lines": 227,
            "tokens": 1948,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/protectedRouteMiddleware.ts": {
            "lines": 159,
            "tokens": 1100,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/authMiddleware.ts": {
            "lines": 207,
            "tokens": 1753,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/controllers/websiteController.ts": {
            "lines": 505,
            "tokens": 4250,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/controllers/webAnalysisController.ts": {
            "lines": 174,
            "tokens": 1434,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 196,
            "percentage": 12.64,
            "percentageTokens": 13.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/controllers/socialNetworkController.ts": {
            "lines": 632,
            "tokens": 4990,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 44,
            "duplicatedTokens": 344,
            "percentage": 6.96,
            "percentageTokens": 6.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/controllers/scheduledPostController.ts": {
            "lines": 298,
            "tokens": 2291,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/controllers/emergencyController.ts": {
            "lines": 205,
            "tokens": 1522,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/controllers/authController.ts": {
            "lines": 280,
            "tokens": 2126,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/controllers/apiConfigController.ts": {
            "lines": 195,
            "tokens": 1721,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/db.ts": {
            "lines": 28,
            "tokens": 251,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/config.ts": {
            "lines": 66,
            "tokens": 457,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/server.ts": {
            "lines": 461,
            "tokens": 3415,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "scripts/check-duplicates.ts": {
            "lines": 59,
            "tokens": 473,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "direct-mongo-update.ts": {
            "lines": 78,
            "tokens": 701,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 5,
            "duplicatedTokens": 81,
            "percentage": 6.41,
            "percentageTokens": 11.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "debug-db.ts": {
            "lines": 52,
            "tokens": 506,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "db-check.ts": {
            "lines": 96,
            "tokens": 840,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 5,
            "duplicatedTokens": 81,
            "percentage": 5.21,
            "percentageTokens": 9.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 9132,
          "tokens": 70997,
          "sources": 45,
          "clones": 12,
          "duplicatedLines": 172,
          "duplicatedTokens": 1501,
          "percentage": 1.88,
          "percentageTokens": 2.11,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "javascript": {
        "sources": {
          "src/public/js/website-test-utils.js": {
            "lines": 127,
            "tokens": 1038,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/public/js/website-fix.js": {
            "lines": 188,
            "tokens": 1379,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/public/js/website-analysis.js": {
            "lines": 213,
            "tokens": 1209,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/public/js/unified-website-manager.js": {
            "lines": 631,
            "tokens": 4629,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/public/js/test-social-button.js": {
            "lines": 44,
            "tokens": 354,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/public/js/socialni-site.js": {
            "lines": 226,
            "tokens": 1848,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/public/js/main.js": {
            "lines": 243,
            "tokens": 1595,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/public/js/debug-social.js": {
            "lines": 34,
            "tokens": 279,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/public/js/dashboard.js": {
            "lines": 106,
            "tokens": 638,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/public/js/content.js": {
            "lines": 32,
            "tokens": 188,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/public/js/api-config.js": {
            "lines": 272,
            "tokens": 2154,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 108,
            "duplicatedTokens": 824,
            "percentage": 39.71,
            "percentageTokens": 38.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "scripts/heroku-start.js": {
            "lines": 49,
            "tokens": 460,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "scripts/build-debug.js": {
            "lines": 104,
            "tokens": 822,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "testmongodb.js": {
            "lines": 34,
            "tokens": 282,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "test-add-website.js": {
            "lines": 73,
            "tokens": 658,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "start-fixed.js": {
            "lines": 17,
            "tokens": 136,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "start-direct.js": {
            "lines": 34,
            "tokens": 278,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server.js": {
            "lines": 85,
            "tokens": 245,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "eslint.config.js": {
            "lines": 64,
            "tokens": 415,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 2576,
          "tokens": 18607,
          "sources": 19,
          "clones": 4,
          "duplicatedLines": 54,
          "duplicatedTokens": 412,
          "percentage": 2.1,
          "percentageTokens": 2.21,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "css": {
        "sources": {
          "src/public/css/style.css": {
            "lines": 383,
            "tokens": 1971,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 383,
          "tokens": 1971,
          "sources": 1,
          "clones": 0,
          "duplicatedLines": 0,
          "duplicatedTokens": 0,
          "percentage": 0,
          "percentageTokens": 0,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      }
    },
    "total": {
      "lines": 12091,
      "tokens": 91575,
      "sources": 65,
      "clones": 16,
      "duplicatedLines": 226,
      "duplicatedTokens": 1913,
      "percentage": 1.87,
      "percentageTokens": 2.09,
      "newDuplicatedLines": 0,
      "newClones": 0
    }
  },
  "duplicates": [
    {
      "format": "javascript",
      "lines": 15,
      "fragment": ", {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                credentials: 'same-origin',\n                body: JSON.stringify(data)\n            })\n            .then(response => response.json())\n            .then(result => {\n                console.log('[API-CONFIG] Save result:', result);\n                if (result.success) {\n                    alert('Konfigurace byla úspěšně uložena!');\n                    // Clear password field\n                    document.getElementById('tw-client-secret'",
      "tokens": 0,
      "firstFile": {
        "name": "src/public/js/api-config.js",
        "start": 176,
        "end": 190,
        "startLoc": {
          "line": 176,
          "column": 22,
          "position": 1380
        },
        "endLoc": {
          "line": 190,
          "column": 19,
          "position": 1492
        }
      },
      "secondFile": {
        "name": "src/public/js/api-config.js",
        "start": 135,
        "end": 149,
        "startLoc": {
          "line": 135,
          "column": 23,
          "position": 1048
        },
        "endLoc": {
          "line": 149,
          "column": 16,
          "position": 1160
        }
      }
    },
    {
      "format": "javascript",
      "lines": 14,
      "fragment": ").value = '';\n                    loadApiConfig(); // Reload configuration\n                } else {\n                    alert('Chyba: ' + result.message);\n                }\n            })\n            .catch(error => {\n                console.error('[API-CONFIG] Save error:', error);\n                alert('Chyba při ukládání: ' + error.message);\n            });\n        });\n    }\n\n    // LinkedIn form submit",
      "tokens": 0,
      "firstFile": {
        "name": "src/public/js/api-config.js",
        "start": 190,
        "end": 203,
        "startLoc": {
          "line": 190,
          "column": 19,
          "position": 1493
        },
        "endLoc": {
          "line": 203,
          "column": 24,
          "position": 1587
        }
      },
      "secondFile": {
        "name": "src/public/js/api-config.js",
        "start": 149,
        "end": 162,
        "startLoc": {
          "line": 149,
          "column": 16,
          "position": 1161
        },
        "endLoc": {
          "line": 162,
          "column": 23,
          "position": 1255
        }
      }
    },
    {
      "format": "javascript",
      "lines": 15,
      "fragment": ", {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                credentials: 'same-origin',\n                body: JSON.stringify(data)\n            })\n            .then(response => response.json())\n            .then(result => {\n                console.log('[API-CONFIG] Save result:', result);\n                if (result.success) {\n                    alert('Konfigurace byla úspěšně uložena!');\n                    // Clear password field\n                    document.getElementById('li-client-secret'",
      "tokens": 0,
      "firstFile": {
        "name": "src/public/js/api-config.js",
        "start": 217,
        "end": 231,
        "startLoc": {
          "line": 217,
          "column": 23,
          "position": 1712
        },
        "endLoc": {
          "line": 231,
          "column": 19,
          "position": 1824
        }
      },
      "secondFile": {
        "name": "src/public/js/api-config.js",
        "start": 135,
        "end": 149,
        "startLoc": {
          "line": 135,
          "column": 23,
          "position": 1048
        },
        "endLoc": {
          "line": 149,
          "column": 16,
          "position": 1160
        }
      }
    },
    {
      "format": "javascript",
      "lines": 14,
      "fragment": ").value = '';\n                    loadApiConfig(); // Reload configuration\n                } else {\n                    alert('Chyba: ' + result.message);\n                }\n            })\n            .catch(error => {\n                console.error('[API-CONFIG] Save error:', error);\n                alert('Chyba při ukládání: ' + error.message);\n            });\n        });\n    }\n\n    // Test configuration buttons",
      "tokens": 0,
      "firstFile": {
        "name": "src/public/js/api-config.js",
        "start": 231,
        "end": 244,
        "startLoc": {
          "line": 231,
          "column": 19,
          "position": 1825
        },
        "endLoc": {
          "line": 244,
          "column": 30,
          "position": 1919
        }
      },
      "secondFile": {
        "name": "src/public/js/api-config.js",
        "start": 149,
        "end": 162,
        "startLoc": {
          "line": 149,
          "column": 16,
          "position": 1161
        },
        "endLoc": {
          "line": 162,
          "column": 23,
          "position": 1255
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "[]> {\n    try {\n      const query: any = { userId: new mongoose.Types.ObjectId(userId) };\n\n      if (filters?.status) {\n        query.status = filters.status;\n      }\n\n      if (filters?.platform) {\n        query[",
      "tokens": 0,
      "firstFile": {
        "name": "src/services/contentService.ts",
        "start": 79,
        "end": 88,
        "startLoc": {
          "line": 79,
          "column": 9,
          "position": 610
        },
        "endLoc": {
          "line": 88,
          "column": 2,
          "position": 693
        }
      },
      "secondFile": {
        "name": "src/services/scheduledPostService.ts",
        "start": 129,
        "end": 138,
        "startLoc": {
          "line": 129,
          "column": 15,
          "position": 975
        },
        "endLoc": {
          "line": 138,
          "column": 2,
          "position": 1058
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n    websiteName: string,\n    language: string,\n    platform: 'facebook' | 'twitter' | 'instagram' | 'linkedin',\n    tone: ToneSettings\n  ): Promise<SocialMediaPost> {\n    // Příprava systémové zprávy podle tónu\n    const systemMessage = this.getSystemMessageForTone(tone, platform, language);\n    \n    // Omezení délky obsahu podle platformy\n    const maxLength = this.getMaxLengthForPlatform(platform);\n    \n    // Vytvoření zprávy pro generování\n    const contentPrompt = `\n      Vygeneruj příspěvek o článku \"",
      "tokens": 0,
      "firstFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 435,
        "end": 449,
        "startLoc": {
          "line": 435,
          "column": 9,
          "position": 3191
        },
        "endLoc": {
          "line": 449,
          "column": 37,
          "position": 3299
        }
      },
      "secondFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 274,
        "end": 288,
        "startLoc": {
          "line": 274,
          "column": 8,
          "position": 1973
        },
        "endLoc": {
          "line": 288,
          "column": 39,
          "position": 2081
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ".url}\n      \n      Požadavky na příspěvek:\n      - Maximální délka: ${maxLength} znaků\n      - Jazyk: ${language === 'cs' ? 'Čeština' : 'Angličtina'}\n      ${tone.callToAction ? '- Zahrnout výzvu k akci na konci' : ''}\n      ${platform === 'instagram' ? '- Vhodný pro Instagram - kreativní a vizuálně popisný' : ''}\n      ${platform === 'twitter' ? '- Stručný a výstižný, vhodný pro Twitter' : ''}\n      ${platform === 'linkedin' ? '- Profesionální tón vhodný pro LinkedIn' : ''}\n      ${platform === 'facebook' ? '- Konverzační styl vhodný pro Facebook' : ''}\n      \n      Uveďte pouze text příspěvku, bez dodatečných informací.\n    `;\n    \n    // Generování příspěvku\n    const generatedContent = await this.callOpenAI(systemMessage, contentPrompt);\n    \n    // Generování hashtagu\n    const hashtagPrompt = `\n      Vygeneruj ${tone.hashtags === 'many' ? '5-8' : tone.hashtags === 'moderate' ? '3-5' : tone.hashtags === 'minimal' ? '1-3' : '0'} \n      hashtagů pro příspěvek o článku \"",
      "tokens": 0,
      "firstFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 460,
        "end": 480,
        "startLoc": {
          "line": 460,
          "column": 9,
          "position": 3399
        },
        "endLoc": {
          "line": 480,
          "column": 40,
          "position": 3575
        }
      },
      "secondFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 300,
        "end": 320,
        "startLoc": {
          "line": 300,
          "column": 8,
          "position": 2175
        },
        "endLoc": {
          "line": 320,
          "column": 42,
          "position": 2351
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "${language === 'cs' ? 'Čeština' : 'Angličtina'}\n      \n      Vrať pouze seznam hashtagů oddělených čárkami, bez # symbolu.\n    `;\n    \n    let hashtags: string[] = [];\n    \n    if (tone.hashtags !== 'none') {\n      const hashtagsResponse = await this.callOpenAI('You are a helpful assistant that generates relevant hashtags.', hashtagPrompt);\n      hashtags = hashtagsResponse.split(',').map(tag => tag.trim());\n    }\n    \n    // Generování obrazového promptu\n    const imagePromptText = `\n      Vygeneruj popis pro obrázek k článku \"",
      "tokens": 0,
      "firstFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 483,
        "end": 497,
        "startLoc": {
          "line": 483,
          "column": 14,
          "position": 3582
        },
        "endLoc": {
          "line": 497,
          "column": 45,
          "position": 3695
        }
      },
      "secondFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 323,
        "end": 337,
        "startLoc": {
          "line": 323,
          "column": 14,
          "position": 2367
        },
        "endLoc": {
          "line": 337,
          "column": 45,
          "position": 2480
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ": string,\n    language: string,\n    platform: 'facebook' | 'twitter' | 'instagram' | 'linkedin',\n    tone: ToneSettings\n  ): Promise<SocialMediaPost> {\n    // Příprava systémové zprávy podle tónu\n    const systemMessage = this.getSystemMessageForTone(tone, platform, language);\n    \n    // Omezení délky obsahu podle platformy\n    const maxLength = this.getMaxLengthForPlatform(platform);\n    \n    // Vytvoření zprávy pro generování\n    const contentPrompt = `\n      Vygeneruj příspěvek o sekci \"",
      "tokens": 0,
      "firstFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 599,
        "end": 612,
        "startLoc": {
          "line": 599,
          "column": 11,
          "position": 4345
        },
        "endLoc": {
          "line": 612,
          "column": 36,
          "position": 4449
        }
      },
      "secondFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 275,
        "end": 288,
        "startLoc": {
          "line": 275,
          "column": 12,
          "position": 1977
        },
        "endLoc": {
          "line": 288,
          "column": 39,
          "position": 2081
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "}\n      \n      Požadavky na příspěvek:\n      - Maximální délka: ${maxLength} znaků\n      - Jazyk: ${language === 'cs' ? 'Čeština' : 'Angličtina'}\n      ${tone.callToAction ? '- Zahrnout výzvu k akci na konci' : ''}\n      ${platform === 'instagram' ? '- Vhodný pro Instagram - kreativní a vizuálně popisný' : ''}\n      ${platform === 'twitter' ? '- Stručný a výstižný, vhodný pro Twitter' : ''}\n      ${platform === 'linkedin' ? '- Profesionální tón vhodný pro LinkedIn' : ''}\n      ${platform === 'facebook' ? '- Konverzační styl vhodný pro Facebook' : ''}\n      \n      Uveďte pouze text příspěvku, bez dodatečných informací.\n    `;\n    \n    // Generování příspěvku\n    const generatedContent = await this.callOpenAI(systemMessage, contentPrompt);\n    \n    // Generování hashtagu\n    const hashtagPrompt = `\n      Vygeneruj ${tone.hashtags === 'many' ? '5-8' : tone.hashtags === 'moderate' ? '3-5' : tone.hashtags === 'minimal' ? '1-3' : '0'} \n      hashtagů pro příspěvek o sekci \"",
      "tokens": 0,
      "firstFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 620,
        "end": 640,
        "startLoc": {
          "line": 620,
          "column": 11,
          "position": 4501
        },
        "endLoc": {
          "line": 640,
          "column": 39,
          "position": 4675
        }
      },
      "secondFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 300,
        "end": 320,
        "startLoc": {
          "line": 300,
          "column": 4,
          "position": 2177
        },
        "endLoc": {
          "line": 320,
          "column": 42,
          "position": 2351
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "${language === 'cs' ? 'Čeština' : 'Angličtina'}\n      \n      Vrať pouze seznam hashtagů oddělených čárkami, bez # symbolu.\n    `;\n    \n    let hashtags: string[] = [];\n    \n    if (tone.hashtags !== 'none') {\n      const hashtagsResponse = await this.callOpenAI('You are a helpful assistant that generates relevant hashtags.', hashtagPrompt);\n      hashtags = hashtagsResponse.split(',').map(tag => tag.trim());\n    }\n    \n    // Generování obrazového promptu\n    const imagePromptText = `\n      Vygeneruj popis pro obrázek k sekci \"",
      "tokens": 0,
      "firstFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 643,
        "end": 657,
        "startLoc": {
          "line": 643,
          "column": 14,
          "position": 4686
        },
        "endLoc": {
          "line": 657,
          "column": 44,
          "position": 4799
        }
      },
      "secondFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 323,
        "end": 337,
        "startLoc": {
          "line": 323,
          "column": 14,
          "position": 2367
        },
        "endLoc": {
          "line": 337,
          "column": 45,
          "position": 2480
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "language === 'cs' ? 'Čeština' : 'Angličtina'}\n      ${tone.callToAction ? '- Zahrnout výzvu k akci na konci' : ''}\n      ${platform === 'instagram' ? '- Vhodný pro Instagram - kreativní a vizuálně popisný' : ''}\n      ${platform === 'twitter' ? '- Stručný a výstižný, vhodný pro Twitter' : ''}\n      ${platform === 'linkedin' ? '- Profesionální tón vhodný pro LinkedIn' : ''}\n      ${platform === 'facebook' ? '- Konverzační styl vhodný pro Facebook' : ''}\n      \n      Uveďte pouze text příspěvku, bez dodatečných informací.\n    `;\n    \n    // Generování příspěvku\n    const generatedContent = await this.callOpenAI(systemMessage, contentPrompt);\n    \n    // Generování hashtagu\n    const hashtagPrompt = `\n      Vygeneruj ${tone.hashtags === 'many' ? '5-8' : tone.hashtags === 'moderate' ? '3-5' : tone.hashtags === 'minimal' ? '1-3' : '0'} \n      hashtagů pro příspěvek o webu ",
      "tokens": 0,
      "firstFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 712,
        "end": 728,
        "startLoc": {
          "line": 712,
          "column": 2,
          "position": 5104
        },
        "endLoc": {
          "line": 728,
          "column": 37,
          "position": 5271
        }
      },
      "secondFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 304,
        "end": 320,
        "startLoc": {
          "line": 304,
          "column": 3,
          "position": 2184
        },
        "endLoc": {
          "line": 320,
          "column": 42,
          "position": 2351
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "language === 'cs' ? 'Čeština' : 'Angličtina'}\n      \n      Vrať pouze seznam hashtagů oddělených čárkami, bez # symbolu.\n    `;\n    \n    let hashtags: string[] = [];\n    \n    if (tone.hashtags !== 'none') {\n      const hashtagsResponse = await this.callOpenAI('You are a helpful assistant that generates relevant hashtags.', hashtagPrompt);\n      hashtags = hashtagsResponse.split(',').map(tag => tag.trim());\n    }\n    \n    // Generování obrazového promptu\n    const imagePromptText = `\n      Vygeneruj popis pro obrázek k webu ",
      "tokens": 0,
      "firstFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 731,
        "end": 745,
        "startLoc": {
          "line": 731,
          "column": 2,
          "position": 5287
        },
        "endLoc": {
          "line": 745,
          "column": 42,
          "position": 5399
        }
      },
      "secondFile": {
        "name": "src/services/contentGeneratorService.ts",
        "start": 323,
        "end": 337,
        "startLoc": {
          "line": 323,
          "column": 3,
          "position": 2368
        },
        "endLoc": {
          "line": 337,
          "column": 45,
          "position": 2480
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "= async (req: Request, res: Response) => {\n  try {\n    const userId = req.user?.id || req.user?._id;\n\n    if (!userId) {\n      return res.status(401).json({\n        success: false,\n        message: 'Pro tuto akci je nutné být přihlášen'\n      });\n    }\n\n    logger",
      "tokens": 0,
      "firstFile": {
        "name": "src/controllers/webAnalysisController.ts",
        "start": 125,
        "end": 136,
        "startLoc": {
          "line": 125,
          "column": 2,
          "position": 951
        },
        "endLoc": {
          "line": 136,
          "column": 7,
          "position": 1049
        }
      },
      "secondFile": {
        "name": "src/controllers/webAnalysisController.ts",
        "start": 94,
        "end": 105,
        "startLoc": {
          "line": 94,
          "column": 2,
          "position": 711
        },
        "endLoc": {
          "line": 105,
          "column": 6,
          "position": 809
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": ";\n    const userId = req.user._id;\n    \n    const user = await User.findById(userId);\n    if (!user) {\n      return res.status(404).json({\n        success: false,\n        message: 'User not found'\n      });\n    }\n    \n    const network = user.socialNetworks.find(\n      (net: any) => net._id.toString() === networkId\n    );\n    \n    if (!network) {\n      return res.status(404).json({\n        success: false,\n        message: 'Social network not found'\n      });\n    }\n    \n    // Validace stavu sítě",
      "tokens": 0,
      "firstFile": {
        "name": "src/controllers/socialNetworkController.ts",
        "start": 433,
        "end": 455,
        "startLoc": {
          "line": 433,
          "column": 5,
          "position": 3598
        },
        "endLoc": {
          "line": 455,
          "column": 23,
          "position": 3770
        }
      },
      "secondFile": {
        "name": "src/controllers/socialNetworkController.ts",
        "start": 134,
        "end": 156,
        "startLoc": {
          "line": 134,
          "column": 7,
          "position": 1110
        },
        "endLoc": {
          "line": 156,
          "column": 32,
          "position": 1278
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "users.forEach((user, index) => {\n      console.log(`\\nUživatel #${index + 1}:`);\n      console.log(`ID: ${user._id}`);\n      console.log(`Email: ${user.email}`);\n      console.log(`Plán: ${user.plan}`);\n      console.log(`Weby: ",
      "tokens": 0,
      "firstFile": {
        "name": "db-check.ts",
        "start": 26,
        "end": 31,
        "startLoc": {
          "line": 26,
          "column": 5,
          "position": 160
        },
        "endLoc": {
          "line": 31,
          "column": 8,
          "position": 241
        }
      },
      "secondFile": {
        "name": "direct-mongo-update.ts",
        "start": 29,
        "end": 34,
        "startLoc": {
          "line": 29,
          "column": 5,
          "position": 209
        },
        "endLoc": {
          "line": 34,
          "column": 8,
          "position": 290
        }
      }
    }
  ]
}