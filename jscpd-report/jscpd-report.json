{
  "statistics": {
    "detectionDate": "2025-05-05T13:13:58.544Z",
    "formats": {
      "typescript": {
        "sources": {
          "src/utils/duplicateDetection/unusedCodeDetector.ts": {
            "lines": 636,
            "tokens": 4818,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 5,
            "duplicatedTokens": 143,
            "percentage": 0.79,
            "percentageTokens": 2.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/duplicateDetection/index.ts": {
            "lines": 94,
            "tokens": 714,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/duplicateDetection/fileSizeChecker.ts": {
            "lines": 241,
            "tokens": 1883,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 5,
            "duplicatedTokens": 143,
            "percentage": 2.07,
            "percentageTokens": 7.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/duplicateDetection/fileDetector.ts": {
            "lines": 161,
            "tokens": 1268,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/duplicateDetection/codeDetector.ts": {
            "lines": 134,
            "tokens": 982,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/routes/websiteRoutes.ts": {
            "lines": 14,
            "tokens": 145,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/routes/authRoutes.ts": {
            "lines": 11,
            "tokens": 101,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/models/User.ts": {
            "lines": 116,
            "tokens": 853,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/models/Content.ts": {
            "lines": 126,
            "tokens": 874,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/authMiddleware.ts": {
            "lines": 107,
            "tokens": 899,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/controllers/websiteController.ts": {
            "lines": 263,
            "tokens": 1960,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 62,
            "duplicatedTokens": 448,
            "percentage": 23.57,
            "percentageTokens": 22.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/controllers/authController.ts": {
            "lines": 236,
            "tokens": 1781,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/db.ts": {
            "lines": 22,
            "tokens": 190,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/config.ts": {
            "lines": 60,
            "tokens": 412,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/server.ts": {
            "lines": 194,
            "tokens": 1549,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "scripts/check-duplicates.ts": {
            "lines": 59,
            "tokens": 473,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 2474,
          "tokens": 18902,
          "sources": 16,
          "clones": 3,
          "duplicatedLines": 36,
          "duplicatedTokens": 367,
          "percentage": 1.46,
          "percentageTokens": 1.94,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "javascript": {
        "sources": {
          "src/public/js/main.js": {
            "lines": 128,
            "tokens": 805,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/public/js/dashboard.js": {
            "lines": 106,
            "tokens": 638,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/public/js/content.js": {
            "lines": 32,
            "tokens": 188,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "eslint.config.js": {
            "lines": 45,
            "tokens": 295,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 311,
          "tokens": 1926,
          "sources": 4,
          "clones": 0,
          "duplicatedLines": 0,
          "duplicatedTokens": 0,
          "percentage": 0,
          "percentageTokens": 0,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "css": {
        "sources": {
          "src/public/css/style.css": {
            "lines": 315,
            "tokens": 1635,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 315,
          "tokens": 1635,
          "sources": 1,
          "clones": 0,
          "duplicatedLines": 0,
          "duplicatedTokens": 0,
          "percentage": 0,
          "percentageTokens": 0,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      }
    },
    "total": {
      "lines": 3100,
      "tokens": 22463,
      "sources": 21,
      "clones": 3,
      "duplicatedLines": 36,
      "duplicatedTokens": 367,
      "percentage": 1.16,
      "percentageTokens": 1.63,
      "newDuplicatedLines": 0,
      "newClones": 0
    }
  },
  "duplicates": [
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "function formatFileSize(bytes: number): string {\n  if (bytes < 1024) return `${bytes} B`;\n  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(2)} KB`;\n  if (bytes < 1024 * 1024 * 1024) return `${(bytes / (1024 * 1024)).toFixed(2)} MB`;\n  return `${(bytes / (1024 * 1024 * 1024)).toFixed(2)} GB`;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/utils/duplicateDetection/fileSizeChecker.ts",
        "start": 237,
        "end": 242,
        "startLoc": {
          "line": 237,
          "column": 2,
          "position": 1740
        },
        "endLoc": {
          "line": 242,
          "column": 2,
          "position": 1883
        }
      },
      "secondFile": {
        "name": "src/utils/duplicateDetection/unusedCodeDetector.ts",
        "start": 632,
        "end": 637,
        "startLoc": {
          "line": 632,
          "column": 1,
          "position": 4675
        },
        "endLoc": {
          "line": 637,
          "column": 2,
          "position": 4818
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "});\n    }\n    \n    // Vyhledání uživatele podle ID\n    console.log('[WEBSITE] Vyhledávání uživatele s ID:', userId);\n    const user = await User.findById(userId);\n    \n    if (!user) {\n      console.error('[WEBSITE] Uživatel nebyl nalezen:', userId);\n      return res.status(404).json({\n        success: false,\n        message: 'Uživatel nebyl nalezen'\n      });\n    }\n    \n    console.log('[WEBSITE] Uživatel nalezen:', user.email);\n    console.log('[WEBSITE] Aktuální seznam webů uživatele v getWebsites:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/controllers/websiteController.ts",
        "start": 143,
        "end": 159,
        "startLoc": {
          "line": 143,
          "column": 7,
          "position": 1072
        },
        "endLoc": {
          "line": 159,
          "column": 58,
          "position": 1193
        }
      },
      "secondFile": {
        "name": "src/controllers/websiteController.ts",
        "start": 48,
        "end": 64,
        "startLoc": {
          "line": 48,
          "column": 7,
          "position": 353
        },
        "endLoc": {
          "line": 64,
          "column": 44,
          "position": 474
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "});\n    }\n    \n    // Vyhledání uživatele podle ID\n    console.log('[WEBSITE] Vyhledávání uživatele s ID:', userId);\n    const user = await User.findById(userId);\n    \n    if (!user) {\n      console.error('[WEBSITE] Uživatel nebyl nalezen:', userId);\n      return res.status(404).json({\n        success: false,\n        message: 'Uživatel nebyl nalezen'\n      });\n    }\n    \n    // Kontrola, zda uživatel má tuto URL v seznamu",
      "tokens": 0,
      "firstFile": {
        "name": "src/controllers/websiteController.ts",
        "start": 219,
        "end": 234,
        "startLoc": {
          "line": 219,
          "column": 7,
          "position": 1615
        },
        "endLoc": {
          "line": 234,
          "column": 48,
          "position": 1718
        }
      },
      "secondFile": {
        "name": "src/controllers/websiteController.ts",
        "start": 48,
        "end": 63,
        "startLoc": {
          "line": 48,
          "column": 7,
          "position": 353
        },
        "endLoc": {
          "line": 63,
          "column": 8,
          "position": 456
        }
      }
    }
  ]
}